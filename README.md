# tmdb_api



## Установка

Должен быть установлен python3.
Затем используйте pip (или pip3, если есть конфликт с python2) для установки зависимостей:

```
pip install -r requirements.txt
```

или

```
pip3 install -r requirements.txt
```

Рекомендуется использовать virtualenv / venv для изоляции проекта.



## Ключ

Для получения api-ключей зарегистрируйтесь на сайте `https://www.themoviedb.org`.
После завершения регистрации следуйте указаниям на странице `https://www.themoviedb.org/documentation/api`.



## Запуск


### hello_api_TMDB.py

Выводит в консоль бюджет указанного фильма.
Можно использовать этот скрипт для проверки api-ключа.

Потребуется ввод api-ключа.
Находясь в директории проекта, откройте с помощью python3 файл `hello_api_TMDB.py`.

```
python3 hello_api_TMDB.py
```

Быстрый способ обойти ошибку "SSL: CERTIFICATE_VERIFY_FAILED":
замена протокола https на http в адресе на строке 8 `tmdb_helpers.py`.


### make_own_db.py

Создаёт локальную базу (путь к базе задаётся на строке 29),
скачивая информацию о 1000 фильмов с `https://api.themoviedb.org/`
(количество можно изменить на строке 26).

Потребуется ввод api-ключа.
Находясь в директории проекта, откройте с помощью python3 файл `make_own_db.py`.

```
python3 make_own_db.py
```

Быстрый способ обойти ошибку "SSL: CERTIFICATE_VERIFY_FAILED":
замена протокола https на http в адресе на строке 8 `tmdb_helpers.py`.


### find_similar.py

Рекомендует к просмотру до 8 фильмов (количество можно изменить на строке 10),
основываясь на собственном алгоритме вычисления схожести.

Необходимо ввести:
- путь к базе
- точное название фильма

Находясь в директории проекта, откройте с помощью python3 файл `find_similar.py`.

```
python3 find_similar.py
```

### search_in_db.py

Поиск по базе.
В случае нахождения введённого запроса в названиях фильмов из базы,
выведет полные названия в консоль.

Необходимо ввести:
- путь к файлу-базе
- фрагмент названия

Находясь в директории проекта, откройте с помощью python3 файл `search_in_db.py`.

```
python3 search_in_db.py
```


## Вспомогательные файлы для работы скриптов


### own_db_helpers.py

Содержит функцию, которая возвращает содержимое базы, находящейся по принимаемому адресу.


### tmdb_helpers.py

Содержит функции, отвечающие за приём ключа, за формирование и отправку запроса по api, а также за получение и обработку ответа.



## Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков https://dvmn.org/.